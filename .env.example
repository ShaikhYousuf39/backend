# ============================================
# Physical AI Textbook - Backend Configuration
# ============================================
#
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to Git!
#
# Quick setup:
# 1. cp .env.example .env
# 2. Fill in API keys and database URLs below
# 3. Run: python main.py
#

# ============================================
# OpenAI Configuration
# ============================================
# Get your API key from: https://platform.openai.com/api-keys
# Used for: RAG chatbot, translations, personalization
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================
# Qdrant Vector Database Configuration
# ============================================
# Get from: https://cloud.qdrant.io
# Create a free cluster and copy the URL and API key
# Format: https://[cluster-id].[region].gcp.cloud.qdrant.io:6333
# IMPORTANT: Include the port :6333 in the URL
QDRANT_URL=https://1046ba48-19f4-41e8-9eb0-d7574e0ac0f6.us-east4-0.gcp.cloud.qdrant.io:6333
QDRANT_API_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxxxxxxxxxxxxxxxxxxxx

# ============================================
# Database Configuration
# ============================================

# --- Development (SQLite - Default) ---
# Simple file-based database for local development
DATABASE_URL=sqlite:///./test.db

# --- Production (Neon PostgreSQL - Recommended) ---
# Get from: https://neon.tech
# 1. Create free account
# 2. Create new project
# 3. Copy "Pooled connection" string from dashboard
# 4. IMPORTANT: Must end with ?sslmode=require
# DATABASE_URL=postgresql://username:password@ep-cool-name-123456.us-east-1.aws.neon.tech/textbook_db?sslmode=require

# --- Alternative PostgreSQL Providers ---
# Supabase: postgresql://user:pass@db.xxx.supabase.co:5432/postgres
# Railway: postgresql://user:pass@containers-us-west-xx.railway.app:1234/railway
# Heroku: postgres://user:pass@ec2-xx-xxx-xxx-xxx.compute-1.amazonaws.com:5432/dbname

# ============================================
# Authentication Configuration
# ============================================
# Generate with: openssl rand -hex 32
# Or: python -c "import secrets; print(secrets.token_hex(32))"
# IMPORTANT: Generate a new secret for production!
BETTER_AUTH_SECRET=ceb3b6f64411a799b3c6a12b159917806ad8c70ef42b89aea4f551a27f9c64e9

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed origins (no spaces!)
# Development: Include localhost
CORS_ORIGINS=http://localhost:3000,https://yourusername.github.io

# Production only:
# CORS_ORIGINS=https://yourusername.github.io

# Custom domain:
# CORS_ORIGINS=https://yourdomain.com

# ============================================
# Application Settings
# ============================================
# Host to bind to (0.0.0.0 = all interfaces)
API_HOST=0.0.0.0

# Port to run on
API_PORT=8000

# Environment (development or production)
ENVIRONMENT=development

# ============================================
# Optional Configuration
# ============================================

# Logging level (DEBUG, INFO, WARNING, ERROR)
# LOG_LEVEL=INFO

# Rate limiting (requests per minute per IP)
# RATE_LIMIT_PER_MINUTE=60

# Cache TTL in seconds (for translations)
# CACHE_TTL=86400

# ============================================
# Production Checklist
# ============================================
#
# Before deploying to production:
# [ ] Replace OPENAI_API_KEY with your key
# [ ] Replace QDRANT_URL and QDRANT_API_KEY with your cluster
# [ ] Change DATABASE_URL to Neon PostgreSQL connection string
# [ ] Generate NEW BETTER_AUTH_SECRET (never reuse dev secret!)
# [ ] Update CORS_ORIGINS to your production frontend URL
# [ ] Set ENVIRONMENT=production
# [ ] Verify all secrets are not committed to Git
# [ ] Test database connection: python -c "from models import init_db; init_db()"
# [ ] Embed content to Qdrant: python scripts/embed_content.py
#
# ============================================
# Security Notes
# ============================================
#
# 1. NEVER commit this .env file to Git
# 2. Use different secrets for dev and production
# 3. Rotate secrets regularly (every 90 days)
# 4. Monitor API usage and set billing alerts
# 5. Use strong, randomly generated secrets
# 6. Limit CORS origins to only your domains
# 7. Keep dependencies updated
# 8. Enable rate limiting in production
#
# ============================================
# Getting Help
# ============================================
#
# - Setup guide: ../SETUP_GUIDE.md
# - Deployment guide: ../DEPLOYMENT_GUIDE.md
# - Environment variables: ../PRODUCTION_ENV_TEMPLATE.md
# - Troubleshooting: ../TROUBLESHOOTING.md
#
# ============================================
